# Drozer
Tools security testing framework seperti frida (agent dan server di **drozer**) yang dimana bisa check potensi vulnerability pada suatu apps 
- [Github Drozer](https://github.com/WithSecureLabs/drozer)
- [Automatic Download Drozer Agent (APK)](https://github.com/FSecureLABS/drozer/releases/download/2.3.4/drozer-agent-2.3.4.apk)

### Note :
Pada catatan ini posisi Emulator dalam Kali Linux (**tidak dalam VM kali linuxnya**) jadi bakal ada sedikit perbedaan dengan catatan yang dibuat. Untuk melakukan koneksi Kali Linux yang dari VM ke Emulator bisa dilakukan secara bridge, dll.


### Install
---
> Prefer docker karena mudah installasinya

1. Install dari Docker
```bash
$ docker pull fsecurelabs/drozer
```

2. Install Drozer Agent ke emulator
```bash
$ adb install drozer-agent-x.x.x.apk
```


### Usage
---

1. Lakukan port forwading ke port 31415
```bash
$ adb forward tcp:31415 tcp:31415
```

2. Nyalakan tombol **ON** pada Drozer Agent yang telah diinstall

3. Jalanin Drozer via Docker (Terhubung dalam jaringan yang sama)
```bash
$ docker run --network host -it fsecurelabs/drozer
```

4. Lakukan Console Connect pada Drozer server
```bash
$ drozer console connect
```


### Drozer Commands
---
- Melihat daftar aplikasi yang terpasang pada android/emulator
```bash
dz> run app.package.list
```

- Indentifikasi kemungkinan darimana saja kita bisa menyerang (Attack Surface)
```bash
dz> run app.package.attacksurface <package name>
```

- Identifikasi Activity yang di export
```bash
dz> run app.activity.info -a <package name>
```

- Menjalankan activity
```bash
dz> run app.activity.start --component <package name> <activity name>
```

- Mendapatkan informasi content provider
```bash
dz> run app.provider.info -a <package name>
```

- Mendapatkan skema URI yang tersedia
```bash
dz> run app.provider.finduri
```

- Mendapatkan data dari content provider
```bash
dz> run app.provider.query <URI dari yang ditemukan pada command diatas>
```

- Modul lain yang tersedia untuk content provider
	- app.provider.update
	- app.provider.delete
	- app.provider.info
	- app.provider.download
	- app.provider.read